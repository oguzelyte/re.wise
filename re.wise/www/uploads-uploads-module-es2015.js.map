{"version":3,"sources":["./src/app/uploads/uploads.page.html","./src/app/uploads/uploads-routing.module.ts","./src/app/uploads/uploads.module.ts","./src/app/uploads/uploads.page.scss","./src/app/uploads/uploads.page.ts"],"names":[],"mappings":"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","file":"uploads-uploads-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>uploads</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-row>\\n    <ion-col>\\n      <div *ngIf=\\\"uploads.length==0\\\">\\n        <h3>You haven't got any uploads, try uploading some.</h3>\\n      </div>\\n    </ion-col>\\n  </ion-row>\\n  <div *ngFor=\\\"let file of uploads\\\">\\n    <ion-card>\\n      <ion-item>\\n        <ion-label>\\n          <h3>{{file.data.moduleCode}} | {{file.data.category}}</h3>\\n        </ion-label>\\n      </ion-item>\\n      <ion-card-header>\\n        <ion-card-title>{{file.data.name}}</ion-card-title>\\n      </ion-card-header>\\n      <ion-card-content>\\n        {{file.data.description}}\\n        <div class=\\\"tags\\\">\\n          <div class=\\\"tag\\\" *ngFor=\\\"let tag of file.data.tags.split(',')\\\">\\n            {{tag}}\\n          </div>\\n        </div>\\n        <div class=\\\"actions\\\">\\n          <ion-button (click)=\\\"preview(file.data.url)\\\"> <ion-icon name=\\\"eye-outline\\\" slot=\\\"start\\\"></ion-icon> VIEW</ion-button>\\n          <ion-button (click)=\\\"download(file.data.url, file.data.name)\\\"> <ion-icon name=\\\"download-outline\\\" slot=\\\"start\\\"></ion-icon>  DOWNLOAD </ion-button>\\n          <ion-button (click)=\\\"delete(file.id, file.data.moduleCode, file.data.category, file.data.name)\\\"> <ion-icon name=\\\"trash-outline\\\" slot=\\\"start\\\"></ion-icon>  DELETE </ion-button>\\n        </div>\\n        \\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n\\n  <!-- fab placed to the bottom end -->\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button  [routerLink]=\\\"['/insert']\\\">\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UploadsPage } from './uploads.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UploadsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UploadsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UploadsPageRoutingModule } from './uploads-routing.module';\n\nimport { UploadsPage } from './uploads.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    UploadsPageRoutingModule\n  ],\n  declarations: [UploadsPage]\n})\nexport class UploadsPageModule {}\n","export default \".tag {\\n  background-color: var(--ion-color-secondary) !important;\\n  color: black;\\n  border-radius: 12px;\\n  margin: 2px 2px 2px 2px;\\n  padding: 2px 7px 2px 7px;\\n  display: inline-block;\\n}\\n\\n.tags {\\n  margin: 10px 0px 10px 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXBsb2Fkcy9DOlxcVXNlcnNcXE9saVxcRGVza3RvcFxccmUud2lzZS9zcmNcXGFwcFxcdXBsb2Fkc1xcdXBsb2Fkcy5wYWdlLnNjc3MiLCJzcmMvYXBwL3VwbG9hZHMvdXBsb2Fkcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx1REFBQTtFQUNBLFlBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0Esd0JBQUE7RUFDQSxxQkFBQTtBQ0NKOztBREVBO0VBQ0kseUJBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3VwbG9hZHMvdXBsb2Fkcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIudGFne1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSkgIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XHJcbiAgICBtYXJnaW46MnB4IDJweCAycHggMnB4O1xyXG4gICAgcGFkZGluZzoycHggN3B4IDJweCA3cHg7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbi50YWdze1xyXG4gICAgbWFyZ2luOjEwcHggMHB4IDEwcHggMHB4O1xyXG4gICAgLy9jbGVhcjpib3RoO1xyXG59XHJcblxyXG4uYWN0aW9uc3tcclxuICAgIC8vY2xlYXI6Ym90aDtcclxufSIsIi50YWcge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5KSAhaW1wb3J0YW50O1xuICBjb2xvcjogYmxhY2s7XG4gIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gIG1hcmdpbjogMnB4IDJweCAycHggMnB4O1xuICBwYWRkaW5nOiAycHggN3B4IDJweCA3cHg7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuLnRhZ3Mge1xuICBtYXJnaW46IDEwcHggMHB4IDEwcHggMHB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { UploadFileService } from '../upload-file.service';\nimport { map } from 'rxjs/operators';\nimport { AuthenticateService } from '../authenticate.service';\nimport { FirebaseOpService } from '../firebase-op.service';\nimport { AngularFireDatabase } from '@angular/fire/database/database';\nimport * as firebase from 'firebase';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer/ngx';\nimport { File } from '@ionic-native/file/ngx';\nimport { PreviewAnyFile } from '@ionic-native/preview-any-file/ngx';\n\n@Component({\n  selector: 'app-uploads',\n  templateUrl: './uploads.page.html',\n  styleUrls: ['./uploads.page.scss'],\n})\nexport class UploadsPage implements OnInit {\n\n  uploads: any[] = [];\n\n  constructor(\n    //public uploadService: UploadFileService,\n    private firebaseOp: FirebaseOpService,\n    private auth: AuthenticateService,\n    private transfer: FileTransfer,\n    private file: File,\n    private previewAnyFile: PreviewAnyFile,\n    private uploadService: UploadFileService\n  ) { }\n\n  ngOnInit() {\n    \n    if (this.auth.isLoggedIn) {\n        this.firebaseOp.getLogs(JSON.parse(localStorage.getItem(\"user\")).uid).subscribe((logs) => {\n          this.uploads = []; // emply uploads so that duplicates don't get pushed in\n          logs.forEach(function (log) {\n            let tempLog = {\n              id: log.payload.doc.id,\n              data: log.payload.doc.data()\n            }\n            this.uploads.push(tempLog);\n          }.bind(this));\n        })\n    };\n  }\n\n  download(url: string, fileName: string) {\n    const fileTransfer: FileTransferObject = this.transfer.create();\n    fileTransfer.download(url, this.file.dataDirectory + fileName).then((entry) => {\n      console.log('download complete: ' + entry.toURL());\n    }, (error) => {\n      console.log(error);\n    });\n  }\n\n  splitTags(tags: string){\n    tags.split(',')\n  }\n\n  delete(fileID: string, moduleCode: string, category: string, name: string){\n    this.uploadService.deleteFileStorage(fileID, moduleCode, category, name);\n  }\n\n  preview(url: string){\n    this.previewAnyFile.preview(url)\n  .then((res: any) => console.log(res))\n  .catch((error: any) => console.error(error));\n  }\n\n  \n}\n"],"sourceRoot":"webpack:///"}